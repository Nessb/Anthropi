{"ast":null,"code":"import _objectSpread from \"/Users/ness/Docx/anthropi-react/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ness/Docx/anthropi-react/src/Admin/AdminForm.js\";\nimport React, { Component } from 'react';\nimport * as firebase from 'firebase';\n\nclass AdminForm extends Component {\n  // Initialiser le component lorsqu'il se créé en lui passsant des infos\n  constructor(props) {\n    super(props);\n\n    this.updateContent = () => {\n      firebase.database().ref(\"test/contact/\".concat(this.props.id)).set(_objectSpread({}, this.state.data));\n    };\n\n    this.handleChange = event => {\n      //Copie de data\n      const data = _objectSpread({}, this.state.data); //Modifier le content\n\n\n      data.content = event.target.value; // Maj data\n\n      this.setState({\n        data\n      });\n    };\n\n    const _data = this.props.data;\n    this.state = {\n      data: _data\n    };\n  } //enregistrer l'etat actuelle avant changement\n\n\n  componentDidUpdate() {\n    this.updateContent();\n  } //MAJ Contenu\n\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      rows: \"10\",\n      value: this.state.data.content // Event pour lancer fonction lors d'un changement du textarea\n      ,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default AdminForm;","map":{"version":3,"sources":["/Users/ness/Docx/anthropi-react/src/Admin/AdminForm.js"],"names":["React","Component","firebase","AdminForm","constructor","props","updateContent","database","ref","id","set","state","data","handleChange","event","content","target","value","setState","componentDidUpdate","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;;AAEA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;AAC5B;AACJG,EAAAA,WAAW,CAAEC,KAAF,EAAS;AAClB,UAAMA,KAAN;;AADkB,SAYrBC,aAZqB,GAYL,MAAM;AACnBJ,MAAAA,QAAQ,CAACK,QAAT,GAAoBC,GAApB,wBAAwC,KAAKH,KAAL,CAAWI,EAAnD,GAAyDC,GAAzD,mBACG,KAAKC,KAAL,CAAWC,IADd;AAGD,KAhBmB;;AAAA,SAkBlBC,YAlBkB,GAkBHC,KAAK,IAAI;AACpB;AACA,YAAMF,IAAI,qBAAO,KAAKD,KAAL,CAAWC,IAAlB,CAAV,CAFoB,CAGpB;;;AACAA,MAAAA,IAAI,CAACG,OAAL,GAAeD,KAAK,CAACE,MAAN,CAAaC,KAA5B,CAJoB,CAKpB;;AACA,WAAKC,QAAL,CAAc;AAAEN,QAAAA;AAAF,OAAd;AACD,KAzBe;;AAElB,UAAMA,KAAI,GAAG,KAAKP,KAAL,CAAWO,IAAxB;AACA,SAAKD,KAAL,GAAa;AAAEC,MAAAA,IAAI,EAAJA;AAAF,KAAb;AACD,GAN+B,CAQ9B;;;AACAO,EAAAA,kBAAkB,GAAI;AAClB,SAAKb,aAAL;AACD,GAX2B,CAajC;;;AAgBCc,EAAAA,MAAM,GAAI;AACR,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,IADP;AAEE,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,IAAX,CAAgBG,OAFzB,CAGG;AAHH;AAIG,MAAA,QAAQ,EAAE,KAAKF,YAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAUD;;AAxC+B;;AA0ClC,eAAeV,SAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport * as firebase from 'firebase'\n\nclass AdminForm extends Component {\n      // Initialiser le component lorsqu'il se créé en lui passsant des infos\n  constructor (props) {\n    super(props)\n    const data = this.props.data\n    this.state = { data }\n  }\n\n    //enregistrer l'etat actuelle avant changement\n    componentDidUpdate () {\n        this.updateContent()\n      }\n\n //MAJ Contenu\n updateContent = () => {\n    firebase.database().ref(`test/contact/${this.props.id}`).set({\n    ...this.state.data\n    })\n  }  \n    //fonction pour recuperer les infos textarea\n    handleChange = event => {\n        //Copie de data\n        const data = {...this.state.data}\n        //Modifier le content\n        data.content = event.target.value\n        // Maj data\n        this.setState({ data })\n      }\n\n  render () {\n    return (\n      <section>\n        <textarea\n          rows='10'\n          value={this.state.data.content}\n           // Event pour lancer fonction lors d'un changement du textarea\n           onChange={this.handleChange}\n        />\n      </section>\n    )\n  }\n}\nexport default AdminForm\n"]},"metadata":{},"sourceType":"module"}